(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["stock-news-carousel"],{5862:function(t,e,c){"use strict";c("fb66")},cad4:function(t,e,c){"use strict";c.r(e);var n=c("7a23");function o(t,e,c,o,r,s){var a=Object(n["resolveComponent"])("vue-carousel");return Object(n["openBlock"])(),Object(n["createBlock"])(a,{data:s.carouselData,indicators:!1},null,8,["data"])}var r=c("5530"),s=(c("d3b7"),c("3ca3"),c("ddb0"),c("a9e3"),c("caad"),c("2532"),c("7db0"),c("d81d"),c("99af"),c("a4d3"),c("e01a"),c("b0c0"),c("ac1f"),c("1276"),c("fb6a"),Object(n["defineAsyncComponent"])((function(){return c.e("vue-carousel").then(c.bind(null,"279c"))}))),a={components:{VueCarousel:s},name:"stock-news-carousel",props:{selectedStock:{type:Object,required:!0},date:{type:Date,default:function(){return new Date}},numberOfArticles:{type:Number,default:5}},data:function(){return{stocks:[]}},watch:{selectedStock:{handler:function(t){this.stocks.includes((function(e){return e.symbol===t.symbol}))||this.fetchArticles()},immediate:!0}},computed:{selectedStockArticles:function(){var t,e=this,c=this.stocks.find((function(t){return t.symbol===e.selectedStock.symbol}));return null!==(t=null===c||void 0===c?void 0:c.articles)&&void 0!==t?t:[]},carouselData:function(){var t=this;return 0===this.selectedStockArticles.length?['<div class="card"><div class="card-body"><p class="card-text">No news to display.</p></div></div>']:this.selectedStockArticles.map((function(e){return' \n            <div class="slide card">\n                '.concat(e.urlToImage?'<img class="card-img-top overflow-hidden" src="'.concat(e.urlToImage,'" alt="Card image cap">'):"",'\n                <div class="card-body">\n                    <h5 class="card-title">').concat(e.title,'</h5>\n                    <h6 class="card-subtitle mb-2 text-muted">').concat(t.selectedStock.symbol,'</h6>\n                    <p class="card-text">').concat((new DOMParser).parseFromString(e.description,"text/html").body.innerHTML,'</p>\n                    <a href="').concat(e.url,'" class="card-link">').concat(e.source,"</a>\n                </div>\n            </div>\n        ")}))}},methods:{fetchArticles:function(){var t=this;fetch("api/news?q=".concat(this.selectedStock.name,"&from=").concat(this.date.toISOString().split("T")[0])).then((function(t){return t.json()})).then((function(e){var c=e.articles.slice(0,t.numberOfArticles).map((function(t){return{source:t.source.name,title:t.title,description:t.description,url:t.url,urlToImage:t.urlToImage}}));t.stocks.push(Object(r["a"])(Object(r["a"])({},t.selectedStock),{},{articles:c}))}))}}};c("5862");a.render=o;e["default"]=a},e01a:function(t,e,c){"use strict";var n=c("23e7"),o=c("83ab"),r=c("da84"),s=c("5135"),a=c("861d"),i=c("9bf2").f,l=c("e893"),d=r.Symbol;if(o&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var u={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new d(t):void 0===t?d():d(t);return""===t&&(u[e]=!0),e};l(f,d);var p=f.prototype=d.prototype;p.constructor=f;var b=p.toString,m="Symbol(test)"==String(d("test")),v=/^Symbol\((.*)\)[^)]+$/;i(p,"description",{configurable:!0,get:function(){var t=a(this)?this.valueOf():this,e=b.call(t);if(s(u,t))return"";var c=m?e.slice(7,-1):e.replace(v,"$1");return""===c?void 0:c}}),n({global:!0,forced:!0},{Symbol:f})}},fb66:function(t,e,c){}}]);
//# sourceMappingURL=stock-news-carousel.03559f08.js.map