{"version":3,"sources":["webpack:///./src/components/StockNewsCarousel.vue?0595","webpack:///./src/components/StockNewsCarousel.vue","webpack:///./src/components/StockNewsCarousel.vue?2cc7","webpack:///./node_modules/core-js/modules/es.symbol.description.js"],"names":["data","carouselData","indicators","VueCarousel","components","name","props","selectedStock","type","Object","required","date","Date","default","numberOfArticles","Number","stocks","watch","handler","this","includes","stock","symbol","fetchArticles","immediate","computed","selectedStockArticles","find","articles","length","map","article","urlToImage","title","DOMParser","parseFromString","description","body","innerHTML","url","source","methods","fetch","toISOString","split","response","json","slice","push","render","$","DESCRIPTORS","global","has","isObject","defineProperty","f","copyConstructorProperties","NativeSymbol","Symbol","prototype","undefined","EmptyStringDescriptionStore","SymbolWrapper","arguments","String","result","symbolPrototype","constructor","symbolToString","toString","native","regexp","configurable","get","valueOf","string","call","desc","replace","forced"],"mappings":"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","file":"js/stock-news-carousel.fa9f729b.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./StockNewsCarousel.vue?vue&type=style&index=0&id=b285229e&scope=true&lang=css\"","<template>\n  <vue-carousel :data=\"carouselData\" :indicators=\"false\"></vue-carousel>\n</template>\n\n<script>\nimport { defineAsyncComponent } from \"vue\";\nconst VueCarousel = defineAsyncComponent(() =>\n  import(/* webpackChunkName: \"vue-carousel\" */ \"@chenfengyuan/vue-carousel\")\n);\nexport default {\n  components: {\n    VueCarousel,\n  },\n  name: \"stock-news-carousel\",\n  props: {\n    selectedStock: {\n      type: Object,\n      required: true,\n    },\n    date: {\n      type: Date,\n      default: () => new Date(),\n    },\n    numberOfArticles: {\n      type: Number,\n      default: 5,\n    },\n  },\n  data() {\n    return {\n      stocks: [],\n    };\n  },\n  watch: {\n    selectedStock: {\n      handler(selectedStock) {\n        if (\n          this.stocks.includes((stock) => stock.symbol === selectedStock.symbol)\n        )\n          return;\n        this.fetchArticles();\n      },\n      immediate: true,\n    },\n  },\n  computed: {\n    selectedStockArticles() {\n      const selectedStock = this.stocks.find(\n        (stock) => stock.symbol === this.selectedStock.symbol\n      );\n      return selectedStock?.articles ?? [];\n    },\n    carouselData() {\n      if (this.selectedStockArticles.length === 0)\n        return [\n          /*html*/ `<div class=\"card\"><div class=\"card-body\"><p class=\"card-text\">No news to display.</p></div></div>`,\n        ];\n      return this.selectedStockArticles.map((article) => {\n        return /*html*/ ` \n          <div class=\"slide card\">\n              ${article.urlToImage? `<img class=\"card-img-top overflow-hidden\" src=\"${article.urlToImage}\" alt=\"Card image cap\">` : ``}\n              <div class=\"card-body\">\n                  <h5 class=\"card-title\">${article.title}</h5>\n                  <h6 class=\"card-subtitle mb-2 text-muted\">\n                    ${this.selectedStock.symbol}\n                  </h6>\n                  <p class=\"card-text\">\n                    ${new DOMParser().parseFromString(article.description, \"text/html\").body.innerHTML}\n                  </p>\n                  <a href=\"${article.url}\" class=\"card-link\">\n                    ${article.source}\n                  </a>\n              </div>\n          </div>\n        `;\n      });\n    },\n  },\n  methods: {\n    async fetchArticles() {\n      const response = await fetch(\n        `api/news?q=${this.selectedStock.name}&from=${this.date.toISOString().split(\"T\")[0]}`\n      );\n      const data = await response.json();\n\n      const articles = data.articles\n        .slice(0, this.numberOfArticles)\n        .map((article) => {\n          return {\n            source: article.source.name,\n            title: article.title,\n            description: article.description,\n            url: article.url,\n            urlToImage: article.urlToImage,\n          };\n        });\n\n      this.stocks.push({\n        ...this.selectedStock,\n        articles,\n      });\n    },\n  },\n};\n</script>\n\n<style scope>\n.slide {\n  height: 40rem;\n}\n</style>\n","import { render } from \"./StockNewsCarousel.vue?vue&type=template&id=b285229e\"\nimport script from \"./StockNewsCarousel.vue?vue&type=script&lang=js\"\nexport * from \"./StockNewsCarousel.vue?vue&type=script&lang=js\"\n\nimport \"./StockNewsCarousel.vue?vue&type=style&index=0&id=b285229e&scope=true&lang=css\"\nscript.render = render\n\nexport default script","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n"],"sourceRoot":""}