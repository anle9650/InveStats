(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["stock-news-carousel"],{"2f76":function(e,t,c){"use strict";c("c2de")},c2de:function(e,t,c){},cad4:function(e,t,c){"use strict";c.r(t);var n=c("7a23");function r(e,t,c,r,a,o){var s=Object(n["resolveComponent"])("vue-carousel");return Object(n["openBlock"])(),Object(n["createBlock"])(s,{data:o.carouselData,indicators:!1},null,8,["data"])}var a=c("5530"),o=c("1da1"),s=(c("96cf"),c("d3b7"),c("3ca3"),c("ddb0"),c("a9e3"),c("caad"),c("2532"),c("7db0"),c("d81d"),c("99af"),c("a4d3"),c("e01a"),c("b0c0"),c("ac1f"),c("1276"),c("fb6a"),Object(n["defineAsyncComponent"])((function(){return c.e("vue-carousel").then(c.bind(null,"279c"))}))),i={components:{VueCarousel:s},name:"stock-news-carousel",props:{selectedStock:{type:Object,required:!0},date:{type:Date,default:function(){return new Date}},numberOfArticles:{type:Number,default:5}},data:function(){return{stocks:[]}},watch:{selectedStock:{handler:function(e){this.stocks.includes((function(t){return t.symbol===e.symbol}))||this.fetchArticles()},immediate:!0}},computed:{selectedStockArticles:function(){var e,t=this,c=this.stocks.find((function(e){return e.symbol===t.selectedStock.symbol}));return null!==(e=null===c||void 0===c?void 0:c.articles)&&void 0!==e?e:[]},carouselData:function(){var e=this;return 0===this.selectedStockArticles.length?['<div class="card"><div class="card-body"><p class="card-text">No news to display.</p></div></div>']:this.selectedStockArticles.map((function(t){return' \n          <div class="slide card">\n              '.concat(t.urlToImage?'<img class="card-img-top overflow-hidden" src="'.concat(t.urlToImage,'" alt="Card image cap">'):"",'\n              <div class="card-body">\n                  <h5 class="card-title">').concat(t.title,'</h5>\n                  <h6 class="card-subtitle mb-2 text-muted">\n                    ').concat(e.selectedStock.symbol,'\n                  </h6>\n                  <p class="card-text">\n                    ').concat((new DOMParser).parseFromString(t.description,"text/html").body.innerHTML,'\n                  </p>\n                  <a href="').concat(t.url,'" class="card-link">\n                    ').concat(t.source,"\n                  </a>\n              </div>\n          </div>\n        ")}))}},methods:{fetchArticles:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var c,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("api/news?q=".concat(e.selectedStock.name,"&from=").concat(e.date.toISOString().split("T")[0]));case 2:return c=t.sent,t.next=5,c.json();case 5:n=t.sent,r=n.articles.slice(0,e.numberOfArticles).map((function(e){return{source:e.source.name,title:e.title,description:e.description,url:e.url,urlToImage:e.urlToImage}})),e.stocks.push(Object(a["a"])(Object(a["a"])({},e.selectedStock),{},{articles:r}));case 8:case"end":return t.stop()}}),t)})))()}}};c("2f76");i.render=r;t["default"]=i},e01a:function(e,t,c){"use strict";var n=c("23e7"),r=c("83ab"),a=c("da84"),o=c("5135"),s=c("861d"),i=c("9bf2").f,l=c("e893"),d=a.Symbol;if(r&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var u={},f=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof f?new d(e):void 0===e?d():d(e);return""===e&&(u[t]=!0),t};l(f,d);var p=f.prototype=d.prototype;p.constructor=f;var m=p.toString,b="Symbol(test)"==String(d("test")),v=/^Symbol\((.*)\)[^)]+$/;i(p,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=m.call(e);if(o(u,e))return"";var c=b?t.slice(7,-1):t.replace(v,"$1");return""===c?void 0:c}}),n({global:!0,forced:!0},{Symbol:f})}}}]);
//# sourceMappingURL=stock-news-carousel.fa9f729b.js.map