(function(e){function t(t){for(var a,n,r=t[0],i=t[1],l=t[2],u=0,d=[];u<r.length;u++)n=r[u],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&d.push(s[n][0]),s[n]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);b&&b(t);while(d.length)d.shift()();return o.push.apply(o,l||[]),c()}function c(){for(var e,t=0;t<o.length;t++){for(var c=o[t],a=!0,n=1;n<c.length;n++){var r=c[n];0!==s[r]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=c[0]))}return e}var a={},n={app:0},s={app:0},o=[];function r(e){return i.p+"js/"+({"shares-input-modal":"shares-input-modal","stock-news-carousel":"stock-news-carousel","vue-carousel":"vue-carousel"}[e]||e)+"."+{"shares-input-modal":"46b8be97","stock-news-carousel":"caf0f0d7","vue-carousel":"c816af88"}[e]+".js"}function i(t){if(a[t])return a[t].exports;var c=a[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,i),c.l=!0,c.exports}i.e=function(e){var t=[],c={"stock-news-carousel":1};n[e]?t.push(n[e]):0!==n[e]&&c[e]&&t.push(n[e]=new Promise((function(t,c){for(var a="css/"+({"shares-input-modal":"shares-input-modal","stock-news-carousel":"stock-news-carousel","vue-carousel":"vue-carousel"}[e]||e)+"."+{"shares-input-modal":"31d6cfe0","stock-news-carousel":"2c04e57a","vue-carousel":"31d6cfe0"}[e]+".css",s=i.p+a,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var l=o[r],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===s))return t()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){l=d[r],u=l.getAttribute("data-href");if(u===a||u===s)return t()}var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.onload=t,b.onerror=function(t){var a=t&&t.target&&t.target.src||s,o=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=a,delete n[e],b.parentNode.removeChild(b),c(o)},b.href=s;var p=document.getElementsByTagName("head")[0];p.appendChild(b)})).then((function(){n[e]=0})));var a=s[e];if(0!==a)if(a)t.push(a[2]);else{var o=new Promise((function(t,c){a=s[e]=[t,c]}));t.push(a[2]=o);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=r(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(b);var c=s[e];if(0!==c){if(c){var a=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+n+")",d.name="ChunkLoadError",d.type=a,d.request=n,c[1](d)}s[e]=void 0}};var b=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,c){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(i.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(c,a,function(t){return e[t]}.bind(null,a));return c},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var b=u;o.push([0,"chunk-vendors"]),c()})({0:function(e,t,c){e.exports=c("56d7")},"24d8":function(e,t,c){"use strict";c("f1c0")},"4b58":function(e,t,c){"use strict";c("d673")},"56d7":function(e,t,c){"use strict";c.r(t);c("e260"),c("e6cf"),c("cca6"),c("a79d");var a=c("f2bf"),n=(c("ac1f"),c("1276"),c("7a23")),s=Object(n["withScopeId"])("data-v-b91b259e");Object(n["pushScopeId"])("data-v-b91b259e");var o={class:"container"},r={class:"row mt-4"},i={class:"col-lg-8"},l={key:0,class:"d-flex justify-content-center"},u=Object(n["createVNode"])("div",{class:"spinner-border me-2",role:"status"},[Object(n["createVNode"])("span",{class:"visually-hidden"},"Loading...")],-1),d=Object(n["createVNode"])("span",null,"Loading...",-1),b={key:1,class:"alert alert-danger",role:"alert"},p={key:2,class:"shadow card mb-3"},h={class:"card-body"},m={class:"row"},y={class:"col-lg-6"},f={class:"shadow card mb-3"},k={class:"card-body"},O={class:"card-title d-flex justify-content-between"},j={class:"card-subtitle mb-2 text-muted"},v={class:"col-lg-6"},g={class:"shadow card mb-3"},S={class:"card-body"},w={class:"col-lg-4"},V={class:"mb-3"},N={key:0,class:"\n          alert alert-success alert-dismissible\n          fade\n          show\n          position-sticky\n          bottom-0\n        ",role:"alert"},P=Object(n["createVNode"])("i",{class:"bi bi-check-circle me-2"},null,-1),x=Object(n["createVNode"])("strong",null,"Success",-1),D=Object(n["createTextVNode"])(" Your transaction is complete. "),T=Object(n["createVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1);Object(n["popScopeId"])();var C=s((function(e,t,c,a,C,B){var M=Object(n["resolveComponent"])("stock-line-candle"),I=Object(n["resolveComponent"])("stock-stats-display"),R=Object(n["resolveComponent"])("stock-performance-display"),A=Object(n["resolveComponent"])("apexchart"),Y=Object(n["resolveComponent"])("stock-news-carousel"),L=Object(n["resolveComponent"])("stock-search"),E=Object(n["resolveComponent"])("stocks-list");return Object(n["openBlock"])(),Object(n["createBlock"])("div",o,[Object(n["createVNode"])("div",r,[Object(n["createVNode"])("div",i,[Object(n["createVNode"])(n["Transition"],{name:"slide-fade",mode:"out-in"},{default:s((function(){return[C.loading&&0===B.selectedIntradayPrices.length?(Object(n["openBlock"])(),Object(n["createBlock"])("div",l,[u,d])):C.loading||0!==B.selectedIntradayPrices.length&&0!==B.selectedDailyPrices.length?(Object(n["openBlock"])(),Object(n["createBlock"])("div",p,[Object(n["createVNode"])("div",h,[Object(n["createVNode"])(M,{name:B.selectedSymbol,intradayPrices:B.selectedIntradayPrices,dailyPrices:B.selectedDailyPrices},null,8,["name","intradayPrices","dailyPrices"])])])):(Object(n["openBlock"])(),Object(n["createBlock"])("div",b," Maximum API calls exceeded. Please try again in "+Object(n["toDisplayString"])(C.apiLockTime)+" seconds, or use demo stock (IBM). ",1))]})),_:1}),Object(n["createVNode"])("div",m,[Object(n["createVNode"])("div",y,[Object(n["createVNode"])("div",f,[Object(n["createVNode"])("div",k,[Object(n["createVNode"])("h5",O,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(C.showStats?"Stats":"Personal Performance")+" ",1),Object(n["createVNode"])("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:t[1]||(t[1]=function(e){return C.showStats=!C.showStats})},Object(n["toDisplayString"])(C.showStats?"Personal Performance":"Stats"),1)]),Object(n["createVNode"])("h6",j,Object(n["toDisplayString"])(B.selectedSymbol),1),Object(n["createVNode"])(n["Transition"],{name:"slide-fade",mode:"out-in"},{default:s((function(){return[C.showStats?(Object(n["openBlock"])(),Object(n["createBlock"])(I,{key:0,dailyPrices:B.selectedDailyPrices},null,8,["dailyPrices"])):(Object(n["openBlock"])(),Object(n["createBlock"])(R,{key:1,stocks:C.stocks,selectedStockIndex:C.selectedStockIndex},null,8,["stocks","selectedStockIndex"]))]})),_:1})])])]),Object(n["createVNode"])("div",v,[Object(n["createVNode"])("div",g,[Object(n["createVNode"])("div",S,[Object(n["createVNode"])(A,{type:"donut",options:C.donutChartOptions,series:B.allStockHoldings,onDataPointSelection:t[2]||(t[2]=function(e,t,c){return C.selectedStockIndex=c.dataPointIndex})},null,8,["options","series"])])])])]),B.mostRecentDate?(Object(n["openBlock"])(),Object(n["createBlock"])(Y,{key:0,class:"shadow mb-3",stockSymbol:B.selectedSymbol.split(".")[0],date:B.mostRecentDate},null,8,["stockSymbol","date"])):Object(n["createCommentVNode"])("",!0)]),Object(n["createVNode"])("div",w,[Object(n["createVNode"])("div",V,[Object(n["createVNode"])(L,{stocksOwned:C.stocks,onBuyStock:B.addShares,onSellStock:B.removeShares},null,8,["stocksOwned","onBuyStock","onSellStock"])]),Object(n["createVNode"])(E,{stocks:C.stocks,onSelectStock:t[3]||(t[3]=function(e){return C.selectedStockIndex=e}),onBuyStock:B.addShares,onSellStock:B.removeShares},null,8,["stocks","onBuyStock","onSellStock"])])]),Object(n["createVNode"])(n["Transition"],{name:"slide-fade"},{default:s((function(){return[C.transactionComplete?(Object(n["openBlock"])(),Object(n["createBlock"])("div",N,[P,x,D,T])):Object(n["createCommentVNode"])("",!0)]})),_:1})])})),B=c("1da1"),M=c("5530"),I=(c("96cf"),c("d3b7"),c("3ca3"),c("ddb0"),c("b680"),c("159b"),c("fb6a"),c("d81d"),c("99af"),c("5319"),c("4e82"),c("7db0"),{style:{display:"contents"}}),R={class:"d-flex justify-content-end"},A=Object(n["createVNode"])("i",{class:"bi bi-align-center"},null,-1),Y=Object(n["createVNode"])("i",{class:"bi bi-graph-up",style:{color:"unset","font-size":"unset"}},null,-1),L={class:"d-flex justify-content-between"};function E(e,t,c,a,s,o){var r=Object(n["resolveComponent"])("apexchart");return Object(n["openBlock"])(),Object(n["createBlock"])("div",I,[Object(n["createVNode"])("div",R,[Object(n["withDirectives"])(Object(n["createVNode"])("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:t[1]||(t[1]=function(e){return s.graphType="candlestick"})},[A],512),[[n["vShow"],"line"==s.graphType]]),Object(n["withDirectives"])(Object(n["createVNode"])("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:t[2]||(t[2]=function(e){return s.graphType="line"})},[Y],512),[[n["vShow"],"candlestick"==s.graphType]])]),"line"===s.graphType?(Object(n["openBlock"])(),Object(n["createBlock"])(r,{key:0,type:"line",options:s.options,series:s.series},null,8,["options","series"])):"candlestick"===s.graphType?(Object(n["openBlock"])(),Object(n["createBlock"])(r,{key:1,type:"candlestick",options:s.options,series:s.series},null,8,["options","series"])):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])("div",L,[Object(n["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary btn-sm",onClick:t[3]||(t[3]=function(e){return s.timeframe="Past Day"})}," 1D "),Object(n["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary btn-sm",onClick:t[4]||(t[4]=function(e){return s.timeframe="Past Week"})}," 1W "),Object(n["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary btn-sm",onClick:t[5]||(t[5]=function(e){return s.timeframe="Month to Date"})}," MTD "),Object(n["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary btn-sm",onClick:t[6]||(t[6]=function(e){return s.timeframe="Past Month"})}," 1M "),Object(n["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary btn-sm",onClick:t[7]||(t[7]=function(e){return s.timeframe="Year to Date"})}," YTD "),Object(n["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary btn-sm",onClick:t[8]||(t[8]=function(e){return s.timeframe="Past Year"})}," 1Y "),Object(n["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary btn-sm",onClick:t[9]||(t[9]=function(e){return s.timeframe="Past 5 Years"})}," 5Y ")])])}c("c740"),c("b0c0");var F=5,_=21,$=253,G={name:"stock-line-candle",props:{name:{type:String,required:!0},intradayPrices:{type:Array,required:!0},dailyPrices:{type:Array,required:!0}},data:function(){return{graphType:"line",timeframe:"Past Day",options:{chart:{toolbar:{show:!1},zoom:{enabled:!1}},title:{text:void 0,style:{fontSize:"20px"}},subtitle:{text:void 0,style:{color:void 0}},xaxis:{type:"datetime",labels:{show:!1,datetimeUTC:!1}},colors:void 0,stroke:{width:1},tooltip:{x:{format:"MMM dd yyyy, h:mmTT"}}},series:[]}},watch:{name:{handler:function(e){this.options.title.text=e,this.updateSeries(),this.updateOptions()},immediate:!0},timeframe:function(){this.updateSeries(),this.updateOptions()},graphType:function(){this.updateSeries()}},computed:{apexIntradayPrices:function(){return this.intradayPrices.map((function(e){return{x:e.datetime,y:[e.open,e.high,e.low,e.close]}}))},apexDailyPrices:function(){return this.dailyPrices.map((function(e){return{x:e.date,y:[e.open,e.high,e.low,e.close]}}))},pastDay:function(){if(0===this.apexIntradayPrices.length)return[];var e=new Date(this.apexIntradayPrices[this.apexIntradayPrices.length-1].x),t=this.apexIntradayPrices.findIndex((function(t){var c=new Date(t.x);return c.getDate()===e.getDate()})),c=this.apexIntradayPrices.slice(t);return c},pastWeek:function(){var e=this.apexDailyPrices.slice(-F);return e},pastMTD:function(){if(0===this.apexDailyPrices.length)return[];var e=new Date(this.apexDailyPrices.slice(-1)[0].x).getFullYear(),t=new Date(this.apexDailyPrices.slice(-1)[0].x).getMonth(),c=this.apexDailyPrices.findIndex((function(c){var a=new Date(c.x);return a.getFullYear()===e&&a.getMonth()===t})),a=this.apexDailyPrices.slice(c);return a},pastMonth:function(){var e=this.apexDailyPrices.slice(-_);return e},pastYTD:function(){if(0===this.apexDailyPrices.length)return[];var e=new Date(this.apexDailyPrices.slice(-1)[0].x).getFullYear(),t=this.apexDailyPrices.findIndex((function(t){var c=new Date(t.x);return c.getFullYear()===e})),c=this.apexDailyPrices.slice(t);return c},pastYear:function(){var e=this.apexDailyPrices.slice(-$);return e},past5Years:function(){var e=this.apexDailyPrices.slice(5*-$);return e},selectedData:function(){switch(this.timeframe){case"Past Week":return this.pastWeek;case"Month to Date":return this.pastMTD;case"Past Month":return this.pastMonth;case"Year to Date":return this.pastYTD;case"Past Year":return this.pastYear;case"Past 5 Years":return this.past5Years;default:return this.pastDay}},priceChange:function(){if(0===this.selectedData.length)return 0;var e=this.selectedData[0].y[3],t=this.selectedData.slice(-1)[0].y[3];return(t-e).toFixed(4)},percentChange:function(){if(0===this.selectedData.length)return 0;var e=this.selectedData[0].y[3];return 0===e?0:(this.priceChange/e*100).toFixed(2)}},methods:{updateSeries:function(){var e;e="line"===this.graphType?this.selectedData.map((function(e){return{x:e.x,y:e.y[3]}})):this.selectedData;var t={name:this.name,data:e};this.series=[t]},updateOptions:function(){var e,t,c,a,n="#00E396",s="#EA3546";this.priceChange>=0?(e=n,t=n,c="+$"):(e=s,t=s,c="-$"),c+="".concat(Math.abs(this.priceChange)," (").concat(Math.abs(this.percentChange),"%) ").concat(this.timeframe),a="Past Day"===this.timeframe?"MMM dd h:mm TT":"MMM dd yyyy",this.options=Object(M["a"])(Object(M["a"])({},this.options),{colors:[e],subtitle:{text:c,style:{color:t}},tooltip:{x:{format:a}}})}}};G.render=E;var z=G,q={class:"input-group"},H={id:"datalistOptions"},W=Object(n["createVNode"])("i",{class:"bi bi-search",id:"search-button"},null,-1),K={class:"modal fade",id:"searchResultsModal",tabindex:"-1","aria-labelledby":"searchResultsModal","aria-hidden":"true"},U={class:"modal-dialog"},J={class:"modal-content"},Q=Object(n["createVNode"])("div",{class:"modal-header"},[Object(n["createVNode"])("h5",{class:"modal-title",id:"searchResultsModalLabel"}," Search Results "),Object(n["createVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),X={class:"modal-body"},Z={key:0},ee={class:"list-group list-group-flush"},te={class:"d-flex w-100 justify-content-between"},ce={class:"text-muted"};function ae(e,t,c,a,s,o){var r=Object(n["resolveComponent"])("shares-input-modal");return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[Object(n["createVNode"])("div",q,[Object(n["withDirectives"])(Object(n["createVNode"])("input",{type:"text",class:"form-control",placeholder:"Search stocks by symbol or name","aria-label":"Search stocks","aria-describedby":"search-button",list:"datalistOptions","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.searchValue=e})},null,512),[[n["vModelText"],s.searchValue]]),Object(n["createVNode"])("datalist",H,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(s.searchExamples,(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])("option",{key:t,value:e},null,8,["value"])})),128))]),Object(n["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary btn-sm","data-bs-toggle":"modal","data-bs-target":"#searchResultsModal",onClick:t[2]||(t[2]=function(){return o.fetchSearchResults&&o.fetchSearchResults.apply(o,arguments)})},[W])]),Object(n["createVNode"])("div",K,[Object(n["createVNode"])("div",U,[Object(n["createVNode"])("div",J,[Q,Object(n["createVNode"])("div",X,[0===s.searchResults.length?(Object(n["openBlock"])(),Object(n["createBlock"])("span",Z,"No results found.")):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])("ul",ee,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(s.searchResults,(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])("li",{class:"list-group-item",key:t},[Object(n["createVNode"])("div",te,[Object(n["createVNode"])("h6",null,Object(n["toDisplayString"])(e.symbol),1),Object(n["createVNode"])("div",null,[Object(n["createVNode"])("button",{class:"btn btn-outline-primary btn-sm me-1","data-bs-target":"#searchResultsBuyModal","data-bs-toggle":"modal","data-bs-dismiss":"modal",onClick:function(t){return s.stockToBuy=e}}," Buy ",8,["onClick"]),Object(n["createVNode"])("button",{class:"btn btn-outline-primary btn-sm","data-bs-target":"#searchResultsSellModal","data-bs-toggle":"modal","data-bs-dismiss":"modal",disabled:0===o.getSharesOwned(e),onClick:function(t){return s.stockToSell=e}}," Sell ",8,["disabled","onClick"])])]),Object(n["createVNode"])("small",ce,Object(n["toDisplayString"])(e.name),1)])})),128))])])])])]),Object(n["createVNode"])(r,{id:"searchResultsBuyModal",type:"buy",symbol:s.stockToBuy?s.stockToBuy.symbol:null,previousModal:"#searchResultsModal",onConfirmShares:t[3]||(t[3]=function(t){return e.$emit("buyStock",s.stockToBuy?s.stockToBuy.symbol:null,t)})},null,8,["symbol"]),Object(n["createVNode"])(r,{id:"searchResultsSellModal",type:"sell",symbol:s.stockToSell?s.stockToSell.symbol:null,sharesOwned:s.stockToSell?s.stockToSell.shares:0,previousModal:"#searchResultsModal",onConfirmShares:t[4]||(t[4]=function(t){return e.$emit("sellStock",s.stockToSell?s.stockToSell.symbol:null,t)})},null,8,["symbol","sharesOwned"])])}c("caad"),c("2532");var ne=Object(n["defineAsyncComponent"])((function(){return c.e("shares-input-modal").then(c.bind(null,"bdc9"))})),se={name:"stock-search",components:{SharesInputModal:ne},props:{stocksOwned:{type:Array,default:function(){return[]}}},emits:["buyStock","sellStock"],data:function(){return{apiKey:"1V4VMMH8KUPV4I15",searchExamples:["tesco","tencent","BA","SAIC"],searchValue:null,searchValueChange:!1,searchResults:[],stockToBuy:null,stockToSell:null}},watch:{searchValue:function(){this.searchValueChange=!0},searchResults:function(){this.searchValueChange=!1}},methods:{fetchSearchResults:function(){var e=this;this.searchValueChange&&fetch("https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=".concat(this.searchValue,"&apikey=").concat(this.searchExamples.includes(this.searchValue)?"demo":this.apiKey)).then((function(e){return e.json()})).then((function(t){t.bestMatches?e.searchResults=t.bestMatches.map((function(e){return{symbol:e["1. symbol"],name:e["2. name"]}})):e.searchResults=[]})).catch((function(e){return console.log(e)}))},getSharesOwned:function(e){var t=this.stocksOwned.find((function(t){return t.symbol===e.symbol}));return t?t.shares:0}}};se.render=ae;var oe=se,re=Object(n["withScopeId"])("data-v-5233ce54");Object(n["pushScopeId"])("data-v-5233ce54");var ie={style:{display:"contents"}},le={class:"shadow card sticky-menu"},ue=Object(n["createVNode"])("div",{class:"card-body"},[Object(n["createVNode"])("h5",{class:"card-title"},"Stocks")],-1),de={class:"list-group list-group-flush"},be={class:"d-flex w-100 justify-content-between"},pe={class:"mb-1"},he={class:"text-muted"},me={class:"mb-1"},ye={class:"d-flex w-100 justify-content-between"},fe={class:"text-muted"};Object(n["popScopeId"])();var ke=re((function(e,t,c,a,s,o){var r=Object(n["resolveComponent"])("shares-input-modal");return Object(n["openBlock"])(),Object(n["createBlock"])("div",ie,[Object(n["createVNode"])("div",le,[ue,Object(n["createVNode"])("div",de,[Object(n["createVNode"])(n["TransitionGroup"],{name:"list"},{default:re((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(c.stocks,(function(t,c){return Object(n["openBlock"])(),Object(n["createBlock"])("a",{href:"#",class:"list-group-item list-group-item-action",key:c,onClick:function(t){return e.$emit("selectStock",c)}},[Object(n["createVNode"])("div",be,[Object(n["createVNode"])("h6",pe,Object(n["toDisplayString"])(t.symbol),1),Object(n["createVNode"])("small",he,[Object(n["createVNode"])("i",{class:[o.getPriceChange(t)>=0?s.upArrow:s.downArrow]},null,2),Object(n["createTextVNode"])(" $"+Object(n["toDisplayString"])(Math.abs(o.getPriceChange(t)))+" ("+Object(n["toDisplayString"])(Math.abs(o.getPercentChange(t)))+"%) Past Day ",1)])]),Object(n["createVNode"])("p",me,"$"+Object(n["toDisplayString"])(o.getEndPrice(t)),1),Object(n["createVNode"])("div",ye,[Object(n["createVNode"])("small",fe,Object(n["toDisplayString"])(t.shares)+" "+Object(n["toDisplayString"])(1===t.shares?"share":"shares"),1),Object(n["createVNode"])("div",null,[Object(n["createVNode"])("button",{class:"btn btn-outline-primary btn-sm me-1","data-bs-target":"#buySharesInputModal","data-bs-toggle":"modal","data-bs-dismiss":"modal",disabled:0===o.getEndPrice(t),onClick:function(e){return s.stockToBuy=t}}," Buy ",8,["disabled","onClick"]),Object(n["createVNode"])("button",{class:"btn btn-outline-primary btn-sm","data-bs-target":"#sellSharesInputModal","data-bs-toggle":"modal","data-bs-dismiss":"modal",disabled:0===t.shares||0===o.getEndPrice(t),onClick:function(e){return s.stockToSell=t}}," Sell ",8,["disabled","onClick"])])])],8,["onClick"])})),128))]})),_:1})])]),Object(n["createVNode"])(r,{id:"buySharesInputModal",type:"buy",symbol:s.stockToBuy?s.stockToBuy.symbol:null,onConfirmShares:t[1]||(t[1]=function(t){return e.$emit("buyStock",s.stockToBuy?s.stockToBuy.symbol:null,t)})},null,8,["symbol"]),Object(n["createVNode"])(r,{id:"sellSharesInputModal",type:"sell",symbol:s.stockToSell?s.stockToSell.symbol:null,sharesOwned:s.stockToSell?s.stockToSell.shares:0,onConfirmShares:t[2]||(t[2]=function(t){return e.$emit("sellStock",s.stockToSell?s.stockToSell.symbol:null,t)})},null,8,["symbol","sharesOwned"])])})),Oe=Object(n["defineAsyncComponent"])((function(){return c.e("shares-input-modal").then(c.bind(null,"bdc9"))})),je={components:{SharesInputModal:Oe},name:"stocks-list",props:{stocks:Array},emits:["selectStock","buyStock","sellStock"],data:function(){return{upArrow:"bi bi-arrow-up-circle",downArrow:"bi bi-arrow-down-circle",stockToBuy:null,stockToSell:null}},methods:{getStartPrice:function(e){if(!e.intradayPrices||0===e.intradayPrices.length)return 0;var t=new Date(e.intradayPrices.slice(-1)[0].datetime).getDate(),c=e.intradayPrices.findIndex((function(e){var c=new Date(e.datetime).getDate();return c===t}));return e.intradayPrices[c].close},getEndPrice:function(e){var t,c,a;return null!==(t=null===(c=e.intradayPrices)||void 0===c||null===(a=c.slice(-1)[0])||void 0===a?void 0:a.close)&&void 0!==t?t:0},getPriceChange:function(e){var t=this.getStartPrice(e),c=this.getEndPrice(e);return(c-t).toFixed(2)},getPercentChange:function(e){var t=this.getPriceChange(e),c=this.getStartPrice(e);return 0===c?null:(t/c*100).toFixed(2)}}};c("4b58");je.render=ke,je.__scopeId="data-v-5233ce54";var ve=je,ge=Object(n["withScopeId"])("data-v-3c591be7");Object(n["pushScopeId"])("data-v-3c591be7");var Se={class:"list-group list-group-flush"},we={class:"list-group-item d-flex w-100 justify-content-between"},Ve=Object(n["createVNode"])("span",null,[Object(n["createVNode"])("i",{class:"bi bi-pie-chart-fill text-secondary me-2"}),Object(n["createTextVNode"])(" Shares ")],-1),Ne={class:"list-group-item d-flex w-100 justify-content-between"},Pe=Object(n["createVNode"])("span",null,[Object(n["createVNode"])("i",{class:"bi bi-percent text-secondary me-2"}),Object(n["createTextVNode"])(" Portfolio Diversity ")],-1),xe={class:"list-group-item d-flex w-100 justify-content-between"},De=Object(n["createVNode"])("span",null,[Object(n["createVNode"])("i",{class:"bi bi-cash text-success me-2"}),Object(n["createTextVNode"])(" Market Value ")],-1),Te={class:"list-group-item d-flex w-100 justify-content-between"},Ce=Object(n["createTextVNode"])(" Average Cost "),Be={class:"list-group-item d-flex w-100 justify-content-between"},Me=Object(n["createTextVNode"])(" Past Day Returns "),Ie={class:"list-group-item d-flex w-100 justify-content-between"},Re=Object(n["createTextVNode"])(" Total Returns ");Object(n["popScopeId"])();var Ae=ge((function(e,t,c,a,s,o){return Object(n["openBlock"])(),Object(n["createBlock"])("ul",Se,[Object(n["createVNode"])("li",we,[Ve,Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(o.stockShares),1)]),Object(n["createVNode"])("li",Ne,[Pe,Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(o.stockDiversity)+"%",1)]),Object(n["createVNode"])("li",xe,[De,Object(n["createVNode"])("span",null,"$"+Object(n["toDisplayString"])(o.stockValue),1)]),Object(n["createVNode"])("li",Te,[Object(n["createVNode"])("span",null,[Object(n["createVNode"])("i",{class:[o.stockAverageCost>=o.stockPrice?s.upArrow:s.downArrow,"me-2"]},null,2),Ce]),Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(o.stockAverageCost>=0?"":"-")+"$"+Object(n["toDisplayString"])(Math.abs(o.stockAverageCost)),1)]),Object(n["createVNode"])("li",Be,[Object(n["createVNode"])("span",null,[Object(n["createVNode"])("i",{class:[o.stockDayReturns>=0?s.upGraph:s.downGraph,"me-2"]},null,2),Me]),Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(o.stockDayReturns>=0?"":"-")+"$"+Object(n["toDisplayString"])(Math.abs(o.stockDayReturns)),1)]),Object(n["createVNode"])("li",Ie,[Object(n["createVNode"])("span",null,[Object(n["createVNode"])("i",{class:[o.stockTotalReturns>=0?s.upGraph:s.downGraph,"me-2"]},null,2),Re]),Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(o.stockTotalReturns>=0?"":"-")+"$"+Object(n["toDisplayString"])(Math.abs(o.stockTotalReturns)),1)])])})),Ye=(c("a9e3"),{name:"stock-performance-display",props:{stocks:{type:Array,required:!0},selectedStockIndex:{type:Number,required:!0}},data:function(){return{upArrow:"bi bi-arrow-up-circle",downArrow:"bi bi-arrow-down-circle",upGraph:"bi bi-graph-up",downGraph:"bi bi-graph-down"}},computed:{selectedStock:function(){return this.stocks[this.selectedStockIndex]},stockPrice:function(){var e,t,c,a;return null!==(e=null===(t=this.selectedStock)||void 0===t||null===(c=t.intradayPrices)||void 0===c||null===(a=c.slice(-1)[0])||void 0===a?void 0:a.close)&&void 0!==e?e:0},stockShares:function(){var e,t;return null!==(e=null===(t=this.selectedStock)||void 0===t?void 0:t.shares)&&void 0!==e?e:0},stockTotalCost:function(){var e,t,c;return null!==(e=null===(t=this.selectedStock)||void 0===t||null===(c=t.transactions)||void 0===c?void 0:c.reduce((function(e,t){return e+t.price*t.shares}),0))&&void 0!==e?e:0},stockAverageCost:function(){return 0===this.stockShares?this.stockTotalCost:(this.stockTotalCost/this.stockShares).toFixed(2)},stockValue:function(){return(this.stockPrice*this.stockShares).toFixed(2)},stockDiversity:function(){var e=this.allStockHoldings.reduce((function(e,t){return e+t}),0);return 0===e?0:(this.stockValue/e*100).toFixed(2)},stockDayReturns:function(){var e;if(null===(e=this.selectedStock)||void 0===e||!e.intradayPrices||0===this.selectedStock.intradayPrices.length)return 0;var t=new Date(this.selectedStock.intradayPrices.slice(-1)[0].datetime),c=this.selectedStock.intradayPrices.findIndex((function(e){var c=new Date(e.datetime);return c.getDate()===t.getDate()})),a=this.selectedStock.intradayPrices[c].close;return((this.stockPrice-a)*this.stockShares).toFixed(2)},stockTotalReturns:function(){return(this.stockValue-this.stockTotalCost).toFixed(2)},allStockHoldings:function(){var e=this.stocks.map((function(e){var t,c,a,n=null!==(t=null===(c=e.intradayPrices)||void 0===c||null===(a=c.slice(-1)[0])||void 0===a?void 0:a.close)&&void 0!==t?t:0;return e.shares*n}));return e}}});c("cfd5");Ye.render=Ae,Ye.__scopeId="data-v-3c591be7";var Le=Ye,Ee={class:"list-group list-group-flush"},Fe={class:"list-group-item d-flex w-100 justify-content-between"},_e=Object(n["createVNode"])("span",null,[Object(n["createVNode"])("i",{class:"bi bi-arrow-left-right text-secondary me-2"}),Object(n["createTextVNode"])(" Volume ")],-1),$e={class:"list-group-item d-flex w-100 justify-content-between"},Ge=Object(n["createVNode"])("span",null,[Object(n["createVNode"])("i",{class:"bi bi-arrow-up-circle me-2"}),Object(n["createTextVNode"])(" 52 Week High ")],-1),ze={class:"list-group-item d-flex w-100 justify-content-between"},qe=Object(n["createVNode"])("span",null,[Object(n["createVNode"])("i",{class:"bi bi-arrow-down-circle me-2"}),Object(n["createTextVNode"])(" 52 Week Low ")],-1),He={class:"list-group-item d-flex w-100 justify-content-between"},We=Object(n["createTextVNode"])(" 5 Year Annualized "),Ke={class:"list-group-item d-flex w-100 justify-content-between"},Ue=Object(n["createTextVNode"])(" 10 Year Annualized "),Je={class:"list-group-item d-flex w-100 justify-content-between"},Qe=Object(n["createTextVNode"])(" Total Annualized ");function Xe(e,t,c,a,s,o){return Object(n["openBlock"])(),Object(n["createBlock"])("ul",Ee,[Object(n["createVNode"])("li",Fe,[_e,Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(o.stockVolume),1)]),Object(n["createVNode"])("li",$e,[Ge,Object(n["createVNode"])("span",null,"$"+Object(n["toDisplayString"])(o.high52Week),1)]),Object(n["createVNode"])("li",ze,[qe,Object(n["createVNode"])("span",null,"$"+Object(n["toDisplayString"])(o.low52Week),1)]),Object(n["createVNode"])("li",He,[Object(n["createVNode"])("span",null,[Object(n["createVNode"])("i",{class:[o.getAnnualizedRate(5)>=0?s.upGraph:s.downGraph,"flex-shrink-0","me-2"]},null,2),We]),Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(o.getAnnualizedRate(5))+"%",1)]),Object(n["createVNode"])("li",Ke,[Object(n["createVNode"])("span",null,[Object(n["createVNode"])("i",{class:[o.getAnnualizedRate(10)>=0?s.upGraph:s.downGraph,"me-2"]},null,2),Ue]),Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(o.getAnnualizedRate(10))+"%",1)]),Object(n["createVNode"])("li",Je,[Object(n["createVNode"])("span",null,[Object(n["createVNode"])("i",{class:[o.getAnnualizedRate()>=0?s.upGraph:s.downGraph,"me-2"]},null,2),Qe]),Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(o.getAnnualizedRate())+"%",1)])])}var Ze=253,et={name:"stock-stats-display",props:{dailyPrices:{type:Array,required:!0}},data:function(){return{upGraph:"bi bi-graph-up",downGraph:"bi bi-graph-down"}},computed:{pastYearPrices:function(){return this.dailyPrices.slice(-Ze)},high52Week:function(){if(0===this.pastYearPrices.length)return 0;var e=Math.max.apply(Math,this.pastYearPrices.map((function(e){return e.close})));return e.toFixed(2)},low52Week:function(){if(0===this.pastYearPrices.length)return 0;var e=Math.min.apply(Math,this.pastYearPrices.map((function(e){return e.close})));return e.toFixed(2)},stockVolume:function(){return 0===this.dailyPrices.length?0:parseInt(this.dailyPrices.slice(-1)[0].volume).toLocaleString()}},methods:{getAnnualizedRate:function(e){if(0===this.dailyPrices.length)return 0;var t,c=this.dailyPrices.slice(-1)[0].close;if(void 0===e){var a=new Date(this.dailyPrices[0].date).getFullYear(),n=new Date(this.dailyPrices.slice(-1)[0].date).getFullYear();e=n-a,t=this.dailyPrices[0].open}else t=this.dailyPrices.slice(-Ze*e)[0].open;var s=c/t,o=100*(Math.pow(s,1/e)-1);return o.toFixed(2)}}};et.render=Xe;var tt=et,ct=Object(n["defineAsyncComponent"])((function(){return c.e("stock-news-carousel").then(c.bind(null,"cad4"))})),at={name:"App",components:{StocksList:ve,StockSearch:oe,StockNewsCarousel:ct,StockPerformanceDisplay:Le,StockStatsDisplay:tt,StockLineCandle:z},data:function(){return{portfolioId:"60fb9d7a50c8612b1fc884a0",apiKey:"1V4VMMH8KUPV4I15",loading:!0,apiLocked:!1,apiLockTime:0,stocks:[],selectedStockIndex:0,showStats:!1,transactionComplete:!1,donutChartOptions:{title:{text:"Holdings Summary",align:"Center"},labels:[],legend:!1,tooltip:{y:{formatter:function(e){return"$"+e.toFixed(2)}}},plotOptions:{pie:{donut:{labels:{show:!0,total:{show:!0,showAlways:!0,label:"Total Value",formatter:function(e){return"$"+e.globals.seriesTotals.reduce((function(e,t){return e+t}),0).toFixed(2)}}}}}}}}},created:function(){var e=this;this.fetchStocks().then((function(){e.stocks.forEach((function(t){e.fetchStockData(t)}))}))},mounted:function(){var e=this;setTimeout((function(){return e.loading=!1}),5e3)},watch:{selectedStockIndex:function(){var e=this;0!=this.selectedIntradayPrices.length&&0!=this.selectedDailyPrices.length||this.fetchStockData(this.selectedStock).then((function(){0===e.selectedIntradayPrices.length||0===e.selectedDailyPrices.length?e.apiLocked=!0:e.apiLocked=!1})).catch((function(e){return console.log(e)}))},apiLocked:function(e){var t=this;if(!1!==e){this.apiLockTime=60;var c=setInterval((function(){t.apiLockTime--,0===t.apiLockTime&&(clearInterval(c),t.apiLocked=!1)}),1e3)}else this.fetchStockData(this.selectedStock)},transactionComplete:function(e){var t=this;!0===e&&setTimeout((function(){return t.transactionComplete=!1}),3e3)},stocks:{deep:!0,immediate:!0,handler:function(){this.donutChartOptions=Object(M["a"])(Object(M["a"])({},this.donutChartOptions),{labels:this.allSymbols})}}},computed:{selectedStock:function(){return this.stocks[this.selectedStockIndex]},selectedSymbol:function(){var e,t;return null!==(e=null===(t=this.selectedStock)||void 0===t?void 0:t.symbol)&&void 0!==e?e:""},selectedIntradayPrices:function(){var e,t;return null!==(e=null===(t=this.selectedStock)||void 0===t?void 0:t.intradayPrices)&&void 0!==e?e:[]},selectedDailyPrices:function(){var e,t;return null!==(e=null===(t=this.selectedStock)||void 0===t?void 0:t.dailyPrices)&&void 0!==e?e:[]},mostRecentDate:function(){return 0===this.selectedIntradayPrices.length?null:new Date(this.selectedIntradayPrices.slice(-1)[0].datetime)},allSymbols:function(){return this.stocks.map((function(e){return e.symbol}))},allStockHoldings:function(){var e=this.stocks.map((function(e){var t,c,a,n=null!==(t=null===(c=e.intradayPrices)||void 0===c||null===(a=c.slice(-1)[0])||void 0===a?void 0:a.close)&&void 0!==t?t:0;return e.shares*n}));return e}},methods:{fetchStocks:function(){var e=this;return Object(B["a"])(regeneratorRuntime.mark((function t(){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("api/portfolios/".concat(e.portfolioId)).then((function(e){return e.json()})).catch((function(e){throw e}));case 2:c=t.sent,e.stocks=c.data.portfolio.stocks;case 4:case"end":return t.stop()}}),t)})))()},fetchIntradayPrices:function(e){var t=this;return Object(B["a"])(regeneratorRuntime.mark((function c(){var a,n,s,o;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return a=e.symbol.split(".")[0],c.next=3,fetch("https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=".concat(a,"&interval=5min&apikey=").concat("IBM"===a?"demo":t.apiKey)).then((function(e){return e.json()})).catch((function(e){throw e}));case 3:for(o in n=c.sent,s=[],n["Time Series (5min)"])s.push({datetime:new Date(o.replace(/-/g,"/")).getTime(),open:n["Time Series (5min)"][o]["1. open"],high:n["Time Series (5min)"][o]["2. high"],low:n["Time Series (5min)"][o]["3. low"],close:n["Time Series (5min)"][o]["4. close"],volume:n["Time Series (5min)"][o]["5. volume"]});s=s.sort((function(e,t){return e.datetime-t.datetime})),e.intradayPrices=s;case 8:case"end":return c.stop()}}),c)})))()},fetchDailyPrices:function(e){var t=this;return Object(B["a"])(regeneratorRuntime.mark((function c(){var a,n,s;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return c.next=2,fetch("https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=".concat(e.symbol,"&outputsize=full&apikey=").concat("IBM"===e.symbol||"TSCO.LON"===e.symbol||"SHOP.TRT"===e.symbol?"demo":t.apiKey)).then((function(e){return e.json()})).catch((function(e){throw e}));case 2:for(s in a=c.sent,n=[],a["Time Series (Daily)"])n.push({date:new Date(s.replace(/-/g,"/")).getTime(),open:a["Time Series (Daily)"][s]["1. open"],high:a["Time Series (Daily)"][s]["2. high"],low:a["Time Series (Daily)"][s]["3. low"],close:a["Time Series (Daily)"][s]["4. close"],volume:a["Time Series (Daily)"][s]["5. volume"]});n=n.sort((function(e,t){return e.date-t.date})),e.dailyPrices=n;case 7:case"end":return c.stop()}}),c)})))()},fetchStockData:function(e){var t=[];return e.intradayPrices&&0!==e.intradayPrices.length||t.push(this.fetchIntradayPrices(e)),e.dailyPrices&&0!==e.dailyPrices.length||t.push(this.fetchDailyPrices(e)),Promise.all(t)},addShares:function(e,t){var c=this,a=this.stocks.find((function(t){return t.symbol===e}));if(a)return a.shares+=t,a.transactions.push({datetime:new Date,price:a.intradayPrices.slice(-1)[0].close,shares:t}),void(this.transactionComplete=!0);var n={symbol:e,shares:t};this.fetchStockData(n).then((function(){var e,a;n.transactions=[{datetime:new Date,price:null!==(e=null===(a=n.intradayPrices.slice(-1)[0])||void 0===a?void 0:a.close)&&void 0!==e?e:0,shares:t}],c.stocks.push(n),c.transactionComplete=!0}))},removeShares:function(e,t){var c=this.stocks.find((function(t){return t.symbol===e}));void 0!==c&&(c.shares-=t,c.transactions.push({datetime:new Date,price:c.intradayPrices.slice(-1)[0].close,shares:-t}),this.transactionComplete=!0)}}};c("f877"),c("24d8");at.render=C,at.__scopeId="data-v-b91b259e";var nt=at,st=c("ae27"),ot=c.n(st);Object(a["a"])(nt).use(ot.a).mount("#app")},ce83:function(e,t,c){},cfd5:function(e,t,c){"use strict";c("f4b4")},d673:function(e,t,c){},f1c0:function(e,t,c){},f4b4:function(e,t,c){},f877:function(e,t,c){"use strict";c("ce83")}});
//# sourceMappingURL=app.f2e740ef.js.map